<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html SYSTEM "src/test/resources/dtd/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
<title>Benachrichtungen manuelle Tests</title>
<link href="../concordion.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1>Performance Tests</h1>
<p>
<h2>Abonnements</h2>
    PublishEventPerformance test    
	<table>
        <tr><th>Test case</th><th>Input</th><th>Expectations</th><th>Actual localhost</th><th>Actual server</th><th>Notes</th></tr>
        <tr>
            <td>publish one event (with update events) for NUMBER_OF_SUBSCRIBERS subscriptions in a single course.</td>
            <td>NUMBER_OF_SUBSCRIBERS=500 <br/>
                NUMBER_OF_PUBLISHERS = 1</td>
            <td>MAX_EXECUTION_TIME_IN_SECONDS=3s</td>
            <td>less than 2s</td>
            <td>less than 3s</td>
            <td> in ideal case (localhost) takes always around 1s</td>
        </tr>        
    </table> 
    <p>
    SynchronizePublishersPerformance test
     <br/>
    TODO next iteration: test access/visibility restriction per node not only per entire course.
    <table>    
        <tr><th>Test case</th><th>Input</th><th>Expectations</th><th>Actual localhost</th><th>Actual server</th><th>Notes</th></tr>
        <tr>
            <td>Generates NUMBER_OF_COURSES 
                courses, subscribe one user in each course, restrict course visibility to private (access only for owners) and execute synchronizePublishers.</td>
            <td>NUMBER_OF_COURSES = 50 (same number of subscribers)</td>
            <td>MAX_EXECUTION_TIME_IN_SECONDS = 600s</td>
            <td>2s</td>
            <td>less than 600s</td>
            <td> too small amount of data to be called performance test</td>
        </tr>        
    </table> 
   
   <p>
   NotifySubscribersPerformance test   
    <table>    
        <tr><th>Test case</th><th>Input</th><th>Expectations</th><th>Actual localhost</th><th>Actual server</th><th>Notes</th></tr>
        <tr>
            <td>Generates NUMBER_OF_SUBSCRIBERS, NUMBER_OF_PUBLISHERS, random NUMBER_OF_SUBSCRIPTIONS_FOR_ONE_SUBSCRIBER, event for every subscription. Call notifySubscribers.</td>
            <td>NUMBER_OF_SUBSCRIBERS = 10000 <br/> 
                NUMBER_OF_PUBLISHERS = 5000 <br/>
                NUMBER_OF_SUBSCRIPTIONS_FOR_ONE_SUBSCRIBER = 3
             </td>
            <td>cca 1800s</td>
            <td>less than 3600s</td> 
            <td>MAX_EXECUTION_TIME_IN_SECONDS = 3600s</td>
            <td> - </td>
        </tr>        
    </table>
    GetNewsPerformance test
   <br/>
    <table>    
        <tr><th>Test case</th><th>Input</th><th>Expectations</th><th>Actual localhost</th><th>Actual server</th><th>Notes</th></tr>
        <tr>
            <td>Generates events for one subscriber. Calls getNews.</td>
            <td>NUMBER_OF_SUBSCRIBERS = 1 <br/> 
                number of events for one subscriber = 3000</td>
            <td>MAX_EXECUTION_TIME_IN_SECONDS = 4s</td>
            <td>cca 3s</td>
            <td>less than 4s</td>
            <td> - </td>
        </tr>        
    </table> 
   <br/>
    Entwurf JMeter Test für Benachrichtigungsservice
   <br/>
   <ul>
   <li>Test läuft gegen eine OLAT-Cluster-Instanz</li>
   <li>Vorbedingung: Es gibt einen Kurs mit 2 Foren.</li>
   <li>Aktion: 
      <ul>
      <li>500 Benutzer schreiben sich in 2 Foren ein</li>
      <li>100 Benutzer erstellen ein Diskussionsthema</li>
      <li>Pro Diskussionsthema sind 30 Benutzer aktiv und alle 30 Sekunden wird ein Beitrag im Diskussionsthema erstellt</li>
      <li>Während der aktiven Beitragserstellung bestellen 10 Benutzer die Benachrichtigungen ab </li>
      </ul>
      </li>
   <li>Erwartung: Keine Fehlerverhalten</li>
   </ul>
   
    <table>    
        <tr><th>Test case</th><th>Input</th><th>Expectations</th><th>Actual localhost</th><th>Actual server</th><th>Notes</th></tr>
        <tr>
            <td></td>
            <td>
                </td>
            <td></td>
            <td></td>
            <td></td>
            <td> - </td>
        </tr>        
    </table>
    
    
    
</body>
</html>
